2004-12-09  Wu Yongwei  <adah@sh163.net>

	* doc/README: Make minor editorial changes.

2004-12-09  Wu Yongwei  <adah@sh163.net>

	* misc: New directory.
	* misc/Doxyfile: New file.
	* misc/doxit.sh: New file.
	* misc/doxygen.css: New file.
	* misc/release.bat: New file.
	* misc/release.sh: New file.

2004-12-09  Wu Yongwei  <adah@sh163.net>

	* doc/README: Change the layout to make it easier to read.

2004-12-08  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (_DEBUG_NEW_ERROR_ACTION): New macro.
	(free_pointer): Use the new macro when errors occur.
	(operator new(size_t, const char*, int)): Ditto.
	(operator delete(void*)): Ditto.
	(operator delete[](void*)): Ditto.

2004-11-17  Wu Yongwei  <adah@sh163.net>

	* nvwa/cont_ptr_utils.h: Add documentation comment.

2004-11-10  Wu Yongwei  <adah@sh163.net>

	* nvwa/cont_ptr_utils.h (output_object<>): New functor template to
	help output the objects pointed by a container of pointers to a
	stream.

2004-09-23  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h: Remove " != NULL" in conditionals for
	consistency.
	(DECLARE_STATIC_MEM_POOL, DECLARE_STATIC_MEM_POOL_GROUPED): Change
	instance to instance_known in definition of operator delete, since
	the instance should be created in a prior call to operator new.

2004-08-17  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (static_mem_pool<>::_S_instance_p): Add
	`__VOLATILE'.
	(static_mem_pool<>::_S_create_instance): Fix the object creation a
	little (still uses DCLP and still unsafe on some multiprocessor
	systems).
	(static_mem_pool<>::instance): Add a caution comment on DCLP.

2004-08-07  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h: Add more documentation comment.
	* nvwa/bool_array.cpp: Ditto.
	(bool_array::count(unsigned long, unsigned long)): Change the call
	interface to an STL-like range.

2004-08-04  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (search_pointer): New static function.
	(free_pointer): New static function.
	(check_leaks): Leave out highest bit when displaying line number.
	(operator new(size_t, const char*, int)): Add an assertion.
	(operator new[](size_t, const char*, int)): Set highest bit of line
	number.
	(operator new[](size_t)): Implement with operator new[](size_t,
	const char*, int).
	(operator delete(void*)): Implement with search_pointer and
	free_pointer.
	(operator delete[](void*)): Ditto.
	(operator delete[](void*, const char*, int)): Implement with
	delete[](void*).
	(operator delete[](void*, const std::nothrow_t&)): Ditto.

2004-08-04  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Disable two warnings emitted by MSVC 7.1.

2004-08-02  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Correct the wrong name in the doxygen file tag.
	* nvwa/debug_new.h: Correct the misuse of `<' literal in doc comment.
	* nvwa/pctimer.h: Add the missing comma in the doxygen version tag.

2004-07-26  Wu Yongwei  <adah@sh163.net>

	* nvwa/class_level_lock.h: Add a full stop after the file briefing
	to make it work better with doxygen.
	* nvwa/cont_ptr_utils.h: Ditto.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/debug_new.h: Ditto.
	* nvwa/fast_mutex.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/mem_pool_base.h: Ditto.
	* nvwa/pctimer.h: Ditto.
	* nvwa/set_assign.h: Ditto.
	* nvwa/static_mem_pool.cpp: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2004-07-10  Wu Yongwei  <adah@sh163.net>

	* doc/README: Add note about GLIBCPP_FORCE_NEW/GLIBCXX_FORCE_NEW.

2004-06-25  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (check_leaks): Change `cLeaked' to `leak_cnt'
	for consistency.
	* nvwa/debug_new.cpp: Add more documentation comment.
	* nvwa/debug_new.h: Ditto.

2004-06-15  Wu Yongwei  <adah@sh163.net>

	* doc/README: New file.

2004-06-01  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (total_mem_alloc): New static variable.
	(operator new): Add bytes of allocated memory to total_mem_alloc.
	(operator delete): Subtract bytes of deallocated memory from
	total_mem_alloc and display total_mem_alloc when verbose flag is on.

2004-05-09  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h: New file.
	* nvwa/bool_array.cpp: New file.

2004-05-09  Wu Yongwei  <adah@sh163.net>

	* nvwa/object_level_lock.h: Add some comments explaining its motive.

2004-04-20  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.h: Add exception specifications to make it compile
	under stricter compilers and the `-pedantic' option of GCC.
	* nvwa/debug_new.cpp: Ditto.

2004-04-15  Wu Yongwei  <adah@sh163.net>

	* nvwa/cont_ptr_utils.h: New file.
	* nvwa/static_mem_pool.h: Prefix an underline to macros
	STATIC_MEM_POOL_DEBUG and STATIC_MEM_POOL_TRACE.
	(static_mem_pool_set::add): Remove inline implementation.
	(static_mem_pool_set::remove): Remove.
	(static_mem_pool<>::static_mem_pool): Move out code to insert itself
	into static_mem_pool_set.
	(static_mem_pool<>::~static_mem_pool): Move out code to remove
	itself from static_mem_pool_set.  Fix trace code for locking.
	(static_mem_pool<>::_S_create_instance): Move in code to add the new
	instance into static_mem_pool_set.
	* nvwa/static_mem_pool.cpp: Prefix an underline to macro
	STATIC_MEM_POOL_TRACE.
	(static_mem_pool_set::~static_mem_pool_set): Use a more natural way
	to remove all instances of static_mem_pool.
	(static_mem_pool_set::add): Move implementation here.  Remove the
	trace message of adding a static_mem_pool.
	* nvwa/debug_new.h: Prefix an underline to file-specific macros.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.

2004-04-11  Wu Yongwei  <adah@sh163.net>

	* nvwa/class_level_lock.h (class_level_lock): Add parameter _RealLock.
	(class_level_lock::lock::lock): Remove parameter __lock.
	(class_level_lock::lock::acquire): Remove.
	(class_level_lock::lock::release): Remove.
	(class_level_lock<_Host, false>): Add optional partial specialization.
	* nvwa/static_mem_pool.h: Synchronize with the above interface change.
	(static_mem_pool): Remove the unnecessary inheritance from
	class_level_lock.

2004-04-06  Wu Yongwei  <adah@sh163.net>

	* nvwa/pctimer.h: New file.
	* nvwa/set_assign.h: New file.

2004-04-03  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.cpp (static_mem_pool_set::~static_mem_pool_set):
	Remove the use of manual mutex acquire/release.
	* nvwa/static_mem_pool.h (static_mem_pool<>::allocate): Ditto.
	(static_mem_pool<>::_S_instance_p): Remove __VOLATILE.

2004-03-30  Wu Yongwei  <adah@sh163.net>

	* nvwa/memory_pool.h: Remove (reorganized into the new files).
	* nvwa/memory_pool.cpp: Ditto.
	* nvwa/mem_pool_base.h: New file.
	* nvwa/mem_pool_base.cpp: New file.
	* nvwa/static_mem_pool.h: New file.
	* nvwa/static_mem_pool.cpp: New file.

2004-03-28  Wu Yongwei  <adah@sh163.net>

	* nvwa/class_level_lock.h: New file, required by memory_pool.h.
	* nvwa/object_level_lock.h: New file.

2004-03-28  Wu Yongwei  <adah@sh163.net>

	* nvwa/memory_pool.h: New file.
	* nvwa/memory_pool.cpp: New file.

2004-03-26  Wu Yongwei  <adah@sh163.net>

	* nvwa/fast_mutex.h: Wrap #error messages in quotes.
	(_FAST_MUTEX_CHECK_INITIALIZATION): Set default to 1.
	* nvwa/debug_new.cpp (check_leaks): Remove the restriction that no
	new/delete could occur during check_leaks.

2004-03-23  Wu Yongwei  <adah@sh163.net>

	* nvwa/fast_mutex.h: New file.
	* nvwa/debug_new.h: New file.
	* nvwa/debug_new.cpp: New file.

2004-03-23  Wu Yongwei  <adah@sh163.net>

	Create new directory structure
	* nvwa: New directory.
	* doc: New directory.
